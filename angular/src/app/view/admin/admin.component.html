<div class="admin-panel">

    <div class="tab-nav">
        <button (click)="vista_modo = 'colores'" class="tab" [class.active]="vista_modo === 'colores'">
            üé® Colores
        </button>
        <button (click)="vista_modo = 'letras'" class="tab" [class.active]="vista_modo === 'letras'">
            üî§ Tipograf√≠a
        </button>
        <button (click)="vista_modo = 'usuarios'" class="tab" [class.active]="vista_modo === 'usuarios'">
            üë§ Usuarios
        </button>
    </div>

    <div class="row color-section" *ngIf="vista_modo === 'colores'">
        <div class="control-panel">
            <div class="control-group">
                <h2>üé® Colores</h2>
            </div>

            <div class="control-group">
                <label htmlFor="primary_color">Color Primario:</label>
                <input type="color" id="primary_color" name="primary_color" [(ngModel)]="headerBgColor" />
                <span class="color-hex">{{headerBgColor}}</span>
            </div>

            <div class="control-group">
                <label htmlFor="secondary_colorColor">Color Secundario:</label>
                <input type="color" id="secondary_colorColor" name="secondary_color" [(ngModel)]="titleColor" />
                <span class="color-hex">{{titleColor}}</span>
            </div>

            <div class="control-group">
                <label htmlFor="tertiary_colorColor">Color Terciario:</label>
                <input type="color" id="tertiary_colorColor" name="tertiary_color" [(ngModel)]="divBorderColor" />
                <span class="color-hex">{{divBorderColor}}</span>
            </div>

            <div class="control-group">
                <label htmlFor="ligth_colorColor">Color Neutro 1:</label>
                <input type="color" id="ligth_colorColor" name="ligth_color" [(ngModel)]="cardBgColor" />
                <span class="color-hex">{{cardBgColor}}</span>
            </div>
            <div class="control-group">
                <label htmlFor="dark_color">Color Neutro 2:</label>
                <input type="color" id="dark_color" name="dark_color" [(ngModel)]="footerBgColor" />
                <span class="color-hex">{{footerBgColor}}</span>
            </div>

            <div class="save-section">
                <button id="saveBtn">
                    Guardar
                </button>
                <button class='saveBtn'>Restablecer paleta</button>
            </div>


        </div>

        <div class="row">
            <fieldset class="control-panel">
                <div class="saved-styles">
                    <h3>Estilos guardados</h3>
                    <div id="savedStylesList">
                        <span>
                            EUs
                        </span>


                    </div>
                </div>
            </fieldset>
        </div>

        <div class="playground">
            <header [style.background-color]="headerBgColor" id='playground-header'>
                <h1 [style.color]="titleColor" id="mainTitle" [style.font-size.px]="titleFontSize">T√≠tulo</h1>
            </header>

            <div [style.border-color]="divBorderColor" class="div-with-border">
                Hola Mundo
            </div>

            <div class="card" [style.background-color]="cardBgColor">
                <h2>T√≠tulo de Carta</h2>
                <p class="content">Hola, aqu√≠ donde hace las pruebas para cambio de letras.</p>
            </div>

            <footer id='playground-footer' [style.background-color]="footerBgColor">
                <p>Footer ¬© MJS</p>
            </footer>
        </div>
    </div>



    <div class="row font-section" *ngIf="vista_modo === 'letras'">

        <div class="multi-font-uploader-container">
            <div class="multi-font-uploader-left">
                <fieldset class=controlPanel>
                    <legend>üî† Tama√±os de fuente (px)</legend>
                    <div>
                        <label htmlFor="titulo">T√≠tulos:</label>
                        <input type="number" id="titulo-input" name="titulo" value={fontStyles.titulo} min="10" max="50"
                            onChange={handleSizeChange} />
                    </div>

                    <div>
                        <label htmlFor="subtitulo">Subt√≠tulos:</label>
                        <input type="number" id="subtitulo-input" name="subtitulo" value={fontStyles.subtitulo} min="10"
                            max="40" onChange={handleSizeChange} />
                    </div>

                    <div>
                        <label htmlFor="parrafo">P√°rrafo:</label>
                        <input type="number" id="parrafo-input" name="parrafo" value={fontStyles.parrafo} min="10"
                            max="30" onChange={handleSizeChange} />
                    </div>
                </fieldset>

                <h2>Tipograf√≠as</h2>

                <div class="uploaderBox">
                    <div>
                        <h3>Fuente para Primer Nivel</h3>
                        <input type="file" accept=".ttf" />

                    </div>
                </div>

                <div>
                    <div>
                        <h3>Fuente para Segundo Nivel</h3>
                        <input type="file" accept=".ttf" />
                        Fuente actual:
                    </div>
                </div>
                <button id="saveBtn">

                </button>
            </div>

            <div class="multi-font-uploader-center">

                <div id="savedStylesList">
                    No hay estilos guardados
                </div>

            </div>


            <div class="multi-font-uploader-right">
                <div class="multi-font-uploader-previewBox">
                    <h3>Previsualizaci√≥n</h3>

                    <p id="titulo">
                        OMG, nuevo estilo bang bang bang!
                    </p>
                    <p id="subtitulo">
                        OMG, nuevo estilo bang bang bang!
                    </p>
                    <p id="parrafo">
                        OMG, nuevo estilo bang bang bang!
                    </p>

                    <div></div>

                    <p>Fuente Principal: </p>
                    <p>Fuente Secundaria: </p>
                </div>
            </div>
        </div>
    </div>

    <div class="usuario-section" *ngIf="vista_modo === 'usuarios'">
        <h2 class="section-title">üë§ Gesti√≥n de Usuarios</h2>

        <div class="tab-nav-container">
            <button (click)="changeView('activos')" class="tab-button" [class.active]="vista_modo2 === 'activos'">
            <span class="emoji">üë§‚úÖ</span> Usuarios Activos
            </button>
            <button (click)="changeView('deshabilitados')" class="tab-button" [class.active]="vista_modo2 === 'deshabilitados'">
            <span class="emoji">üë§‚ùå</span> Usuarios Deshabilitados
            </button>
        </div>

        <!-- Contenedor para las tablas -->
        <div class="table-card">
            <!-- Tabla de Usuarios Activos -->
            <div *ngIf="vista_modo2 === 'activos'">
            <div class="card-header-custom card-header-success">
                <h4 class="card-title-custom">Usuarios Activos</h4>
            </div>
            <div class="card-body-custom">
                <div class="table-responsive">
                <table #activeTable id="activeUserTable" class="display nowrap data-table-custom" style="width: 100%">
                    <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Tel√©fono</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- DataTables llenar√° este tbody din√°micamente -->
                    </tbody>
                </table>
                </div>
            </div>
            </div>

            <!-- Tabla de Usuarios Deshabilitados -->
            <div *ngIf="vista_modo2 === 'deshabilitados'">
            <div class="card-header-custom card-header-danger">
                <h4 class="card-title-custom">Usuarios Deshabilitados</h4>
            </div>
            <div class="card-body-custom">
                <div class="table-responsive">
                <table #disabledTable id="disabledUserTable" class="display nowrap data-table-custom" style="width: 100%">
                    <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Tel√©fono</th>
                        <th>Estado</th>
                        <th>Acci√≥n</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- DataTables llenar√° este tbody din√°micamente -->
                    </tbody>
                </table>
                </div>
            </div>
            </div>
        </div>

        <!-- Modal para Detalles del Usuario (sin Bootstrap JS) -->
        <div class="custom-modal-overlay" *ngIf="showUserDetailsModal">
            <div class="custom-modal-dialog custom-modal-large">
            <div class="custom-modal-content">
                <div class="custom-modal-header custom-bg-primary">
                <h5 class="custom-modal-title">Detalles del Usuario</h5>
                <button type="button" class="custom-modal-close-btn" (click)="closeUserDetailsModal()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="custom-modal-body" *ngIf="usuarioSeleccionado">
                <div class="custom-row">
                    <div class="custom-col-half">
                    <p><strong>Nombre:</strong> {{ usuarioSeleccionado.firstName }} {{ usuarioSeleccionado.lastName }}</p>
                    <p><strong>Email:</strong> {{ usuarioSeleccionado.email }}</p>
                    <p><strong>Tel√©fono:</strong> {{ usuarioSeleccionado.phone }}</p>
                    </div>
                    <div class="custom-col-half">
                    <p><strong>Direcci√≥n:</strong> {{ usuarioSeleccionado.address_address }}</p>
                    <p><strong>Rol:</strong> {{ usuarioSeleccionado.role_id }}</p>
                    <p><strong>Fecha de Registro:</strong> {{ usuarioSeleccionado.createdAt | date:'mediumDate' }}</p>
                    <p><strong>Fecha de Actualizacion:</strong> {{ usuarioSeleccionado.updatedAt | date:'mediumDate' }}</p>
                    </div>
                </div>
                <!-- Puedes a√±adir m√°s detalles aqu√≠ seg√∫n la estructura de tu objeto de usuario -->
                </div>
                <div class="custom-modal-footer">
                <button type="button" class="custom-btn custom-btn-secondary" (click)="closeUserDetailsModal()">Cerrar</button>
                </div>
            </div>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n Personalizado (sin Bootstrap JS) -->
        <div class="custom-modal-overlay" *ngIf="showConfirmModal">
            <div class="custom-modal-dialog custom-modal-small">
            <div class="custom-modal-content">
                <div class="custom-modal-header custom-bg-warning">
                <h5 class="custom-modal-title">Confirmaci√≥n</h5>
                <button type="button" class="custom-modal-close-btn" (click)="closeConfirmModal()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="custom-modal-body">
                <p>{{ confirmMessage }}</p>
                </div>
                <div class="custom-modal-footer">
                <button type="button" class="custom-btn custom-btn-secondary" (click)="closeConfirmModal()">Cancelar</button>
                <button type="button" class="custom-btn custom-btn-warning" (click)="executeConfirmAction()">Confirmar</button>
                </div>
            </div>
            </div>
        </div>

        <!-- Modal de Alerta/Notificaci√≥n Personalizado (sin Bootstrap JS) -->
        <div class="custom-modal-overlay" *ngIf="showAlertModal">
            <div class="custom-modal-dialog custom-modal-small">
            <div class="custom-modal-content">
                <div class="custom-modal-header" [ngClass]="{
                'custom-bg-success': alertType === 'success',
                'custom-bg-danger': alertType === 'error',
                'custom-bg-info': alertType === 'info'
                }">
                <h5 class="custom-modal-title">Mensaje</h5>
                <button type="button" class="custom-modal-close-btn" (click)="closeAlertModal()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="custom-modal-body">
                <p>{{ alertMessage }}</p>
                </div>
                <div class="custom-modal-footer">
                <button type="button" class="custom-btn custom-btn-secondary" (click)="closeAlertModal()">Cerrar</button>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>


<!-- Ejemplo para ver como se cambia las letras-->
<div>
    <div class="font-upload-container">
        <h2>Subir Fuentes de letras</h2>
        
        <div class="upload-section">
            <input #fileInput type="file" accept=".ttf, font/ttf" (change)="onFileSelected($event)" hidden>
            <button class="upload-btn" (click)="fileInput.click()">Elige .TTF Archivos</button>
            <span *ngIf="fontName">{{ fontName }} </span>
        </div>
    
        <div class="preview-controls" *ngIf="isFontLoaded">
            <div class="form-group">
            <label for="previewText">Preview:</label>
            <input id="previewText" type="text" [(ngModel)]="customPreviewText" (input)="updatePreview()">
            </div>
            
            <div class="button-group">
            <button class="apply-btn" (click)="applyFont()">Aplica</button>
            <button class="reset-btn" (click)="resetFont()">Resetear</button>
            </div>
        </div>
    
        <div #fontPreview class="font-preview" [style.fontFamily]="fontName">
            {{ previewText }}
        </div>

        <div class="control_boton">
            <!--(Ver la etiqueta arriba, para ver como se cambia) !!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
                        <label for="titleFontSize">Tama√±o de letras para T√≠tulo (px): </label>
                        <input type="number" id="titleFontSize" [(ngModel)]="titleFontSize" min="10" max="50">
        </div>
    </div>

</div>